<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0d6b4a">
 <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Suratul Kahf – Juma'a</title>
  <style>
    body{
      margin:0;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      background:#000;
      overflow:hidden;
    }

    /* ===== WELCOME ===== */
    .welcome{
      position:fixed;
      inset:0;
      background:linear-gradient(rgba(0,0,0,.7),rgba(0,0,0,.7)),url('quran.jpg');
      background-size:cover;
      background-position:center;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      color:#fff;
      z-index:10;
    }
    .welcome-box{
      padding:30px 25px;
      max-width:700px;
      background:rgba(255,255,255,.08);
      border-radius:20px;
      backdrop-filter:blur(8px);
    }
    .welcome-box h1{
      font-size:2.3rem;
      margin-bottom:10px;
    }
    .arabic{
      font-size:1.4rem;
      direction:rtl;
      margin:15px 0 25px;
      font-family:'Amiri','Scheherazade',serif;
    }
    .start-btn{
      display:inline-block;
      padding:14px 34px;
      background:#0d6b4a;
      border-radius:40px;
      color:#fff;
      text-decoration:none;
      font-size:1.05rem;
    }
    .credit{
      margin-top:20px;
      font-size:.9rem;
      opacity:.85;
    }

    /* ===== SLIDER ===== */
    .slider{
      display:flex;
      height:100vh;
      width:1200vw;
      transition:transform .35s ease;
      touch-action:pan-y;
    }
    .page{
      width:100vw;
      height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background:#000;
      overflow:hidden;
    }
    .page img{
      width:100vw;
      height:100vh;
      object-fit:contain;
      background:#000;
    }

    .hint{
      position:fixed;
      bottom:15px;
      width:100%;
      text-align:center;
      color:#ccc;
      font-size:.9rem;
      z-index:5;
    }
  
    /* Progress Bar */
    .progress{
      position:fixed;
      top:0;left:0;
      height:4px;
      width:0%;
      background:#0d6b4a;
      z-index:20;
      transition:width .3s ease;
    }
    /* Theme Toggle */
    .theme-toggle{
      position:fixed;
      top:15px;left:15px;
      z-index:20;
      background:rgba(0,0,0,.4);
      color:#fff;
      border:none;
      padding:6px 14px;
      border-radius:20px;
      font-size:.85rem;
    }
    body.light{
      background:#f7f7f7;
    }
    body.light .hint,
    body.light #indicator{
      color:#111;
      background:rgba(255,255,255,.7);
    }
  
    /* Zoom hint */
    .zoom-hint{
      position:fixed;
      bottom:45px;
      width:100%;
      text-align:center;
      color:#aaa;
      font-size:.85rem;
      z-index:6;
    }
  </style>
</head>
<script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("service-worker.js");
  }
</script>

<body>
<div class="progress" id="progress"></div>
<button class="theme-toggle" onclick="toggleTheme()">Dark / Light</button>

<!-- WELCOME -->
<div class="welcome" id="welcome">
  <div class="welcome-box">
    <h1>Suratul Kahf</h1>
    <div class="arabic">﴿ مَن قَرَأَ سُورَةَ الْكَهْفِ يَوْمَ الْجُمُعَةِ أَضَاءَ لَهُ مِنَ النُّورِ ﴾</div>
    <a href="#" class="start-btn" onclick="startReading()">Click here to recite Suratul Kahf now</a>
    <div class="credit">Developed by Abdullahi Muhammad Tukur (Emteey)</div>
  </div>
</div>

<!-- SLIDER -->
<div class="slider" id="slider">
  <div class="page"><img src="page1.jpg"></div>
  <div class="page"><img src="page2.jpg"></div>
  <div class="page"><img src="page3.jpg"></div>
  <div class="page"><img src="page4.jpg"></div>
  <div class="page"><img src="page5.jpg"></div>
  <div class="page"><img src="page6.jpg"></div>
  <div class="page"><img src="page7.jpg"></div>
  <div class="page"><img src="page8.jpg"></div>
  <div class="page"><img src="page9.jpg"></div>
  <div class="page"><img src="page10.jpg"></div>
  <div class="page"><img src="page11.jpg"></div>
  <div class="page"><img src="page12.jpg"></div>
</div>

<div class="hint">Swipe left ➜ right to continue</div>
<div class="zoom-hint">Double tap to zoom • Pinch to zoom</div>
<div id="indicator" style="position:fixed;top:15px;right:20px;color:#fff;font-size:.95rem;z-index:5;background:rgba(0,0,0,.4);padding:6px 14px;border-radius:20px;">1 / 12</div>

<script>
  let index = 0;
  let startX = 0;
  let isDragging = false;
  let scale = 1;
  let lastTap = 0;
  const slider = document.getElementById('slider');
  const indicator = document.getElementById('indicator');

  function startReading(){
    document.getElementById('welcome').style.display='none';
    document.documentElement.requestFullscreen?.();
    update();
  }

  function update(){
    indicator.innerText = (index+1) + ' / 12';
    slider.style.transform = `translateX(-${index*100}vw)`;
    document.getElementById('progress').style.width = ((index+1)/12*100) + '%';
  }

  function next(){
    if(index < 11){ index++; navigator.vibrate?.(20); scale=1; applyZoom(); update(); }
    if(index === 11){ setTimeout(()=>window.location.href='thank.html',1200); }
  }
  function prev(){ if(index > 0){ index--; navigator.vibrate?.(20); scale=1; applyZoom(); update(); } }

  function applyZoom(){
    document.querySelectorAll('.page img')[index].style.transform = `scale(${scale})`;
  }

  // DOUBLE TAP ZOOM
  document.addEventListener('touchend', e => {
    const now = Date.now();
    if(now - lastTap < 300){
      scale = scale === 1 ? 2 : 1;
      applyZoom();
    }
    lastTap = now;
  });

  // TOUCH SWIPE
  document.addEventListener('touchstart', e => startX = e.touches[0].clientX);
  document.addEventListener('touchmove', e => e.preventDefault(), {passive:false});
  document.addEventListener('touchend', e => {
    const diff = e.changedTouches[0].clientX - startX;
    if(diff > 50) next();
    else if(diff < -50) prev();
  });

  // MOUSE
  document.addEventListener('mousedown', e => { isDragging = true; startX = e.clientX; });
  document.addEventListener('mouseup', e => {
    if(!isDragging) return;
    isDragging = false;
    const diff = e.clientX - startX;
    if(diff > 50) next();
    else if(diff < -50) prev();
  });

  // KEYBOARD
  document.addEventListener('keydown', e => {
    if(e.key === 'ArrowRight') next();
    if(e.key === 'ArrowLeft') prev();
  });

  function toggleTheme(){(){
    document.body.classList.toggle('light');
  }
</script>

</body>
</html>
